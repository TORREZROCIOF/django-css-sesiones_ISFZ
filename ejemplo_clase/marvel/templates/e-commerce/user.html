{% extends "e-commerce/base.html" %}

{% block title %}Datos de usuario{% endblock %}

{% block content %}
<div class="tarea">

    <hr>
    <h2>游늷 Informaci칩n del usuario autenticado:</h2>

    <ul>
        <li><strong>Nombre:</strong> {{ user.first_name }}</li>
        <li><strong>Apellido:</strong> {{ user.last_name }}</li>
        <li><strong>Username:</strong> {{ user.username }}</li>
        <li><strong>Email:</strong> {{ user.email }}</li>
    </ul>

    {% if user.perfilusuario %}
    <h3>游늷 Datos adicionales:</h3>
    <ul>
        <li><strong>Pa칤s:</strong> {{ user.perfilusuario.pais }}</li>
        <li><strong>Provincia:</strong> {{ user.perfilusuario.provincia }}</li>
        <li><strong>Ciudad:</strong> {{ user.perfilusuario.ciudad }}</li>
        <li><strong>C칩digo Postal:</strong> {{ user.perfilusuario.codigo_postal }}</li>
        <li><strong>Tel칠fono:</strong> {{ user.perfilusuario.telefono }}</li>
    </ul>
    {% else %}
        <p><em>No hay datos adicionales disponibles.</em></p>
    {% endif %}

    <a href="{% url 'editar_perfil' %}">九勇 Editar perfil</a>

    {% comment %} <h1>Tarea:</h1>
    <h2>1) Realizar la p치gina de detalle de usuario</h2>
    <p>En esta p치gina se debe reflejar toda la informaci칩n perteneciente al usuario autenticado, as칤 como ser:
    <ul>
        <li>Nombre</li>
        <li>Apellido</li>
        <li>Username</li>
        <li>E-Mail</li>
    </ul>
    <h2>2) Extender la informaci칩n del usuario</h2>
    Se debe extender la tabla de usuario para agregar m치s campos, entre ellos, los solicitados son:
    <ul>
        <li>Pa칤s</li>
        <li>Provincia o estado</li>
        <li>Ciudad</li>
        <li>C칩digo Postal</li>
        <li>Tel칠fono de contacto</li>
    </ul>
    Para extender los datos, se puede relacionar una tabla mas con los nuevos datos del usuario, y luego agregar un FK
    de la tabla "User".
    Luego, estos datos tambi칠n deben reflejarse en esta p치gina (No importa si deben agregarse desde el Admin de Django).
    </p>
    <h2>3) Construir una p치gina para actualizar los datos del usuario.</h2>
    Construir una p치gina para actualizar los datos del usuario por medio de un formulario y generar un enlace desde la
    p치gina "user profile" hacia esa p치gina.
    Al completar el formulario, se debe actualizar el contenido de los datos del usuario y redirigir a la p치gina "user
    profile"

    <h2>4) Modificar la p치gina "cart".</h2>
    La p치gina de carrito tiene implementada la lista de comics que el usuario posee en su carrito de compras y un bot칩n
    de "confirmar pedido", el cual no realiza ninguna acci칩n m치s que redirigir al usuario a la p치gina de agradecimiento
    de compra.
    Incorpore dentro de la lista de comics la capacidad de poder comprar m치s de un comic de cada uno, incrementando el
    atributo "wished_qty" de la entidad "WishList".
    Para evitar el uso de JavaScript, puede implementar un formulario para cada comic con un "input" de tipo num칠rico y
    un bot칩n de "agregar" (submit de este formulario).
    De manera que cuando se agregue la cantidad, se haga un submit del formulario con los datos y se redirija a la
    p치gina "cart".


    <h2>5) Construir la l칩gica de la p치gina "cart".</h2>
    Incorpore la l칩gica del mecanismo de compra teniendo en cuenta que:

    - Al realizar el pedido se debe almacenar en alg칰n lugar y de alg칰n modo tanto la lista, como la cantidad de comics
    y el usuario que realiz칩.
    - Se debe pasar a cero el atributo "wished_qty" que el usuario compr칩.
    - Se debe pasar el estado del atributo "cart" a "False" para cada comic que el usuario compr칩.

    <h2>6) Modifique el estilo de la p치gina</h2>
    Modifique el estilo de la p치gina a gusto.
    Puede utilizar el m칠todo de su preferencia, ya sea con CSS o con Bootstrap o similar. {% endcomment %}

</div>
{% endblock %}